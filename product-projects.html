<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>项目展示 - 电脑便利贴风格</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nerko+One&family=Noto+Sans+SC:wght@100..900&family=ZCOOL+KuaiLe&display=swap" rel="stylesheet">
    <!-- 自定义CSS将在后面添加 -->
    <link rel="stylesheet" href="css/computer-style.css">
</head>
<body>
    <div class="container-fluid p-0">
        
        <!-- 顶部便利贴区域 -->
        <div class="notes-shelf">
            <div class="notes-row">
                <button id="backButton" class="btn btn-primary back-button">
                    <i class="bi bi-arrow-left"></i> 返回首页
                </button>
                <div class="sticky-note" data-project="project1">
                    <div class="sticky-note-header">EchoClass</div>
                    <div class="sticky-note-image">
                        <img src="images/echoclass-sticker" alt="echoclass">
                    </div>
                </div>
                <div class="sticky-note" data-project="project2">
                    <div class="sticky-note-header">薯薯の公路之旅</div>
                    <div class="sticky-note-image">
                        <img src="images/shushu-card.png" alt="薯薯の公路之旅">
                    </div>
                </div>
                <div class="sticky-note" data-project="project3">
                    <div class="sticky-note-header">StickerWar</div>
                    <div class="sticky-note-image">
                        <img src="images/project3.jpg" alt="StickerWar">
                    </div>
                </div>
                <div class="sticky-note" data-project="project4">
                    <div class="sticky-note-header">灵魂裁缝</div>
                    <div class="sticky-note-image">
                        <img src="images/project4.jpg" alt="灵魂裁缝">
                    </div>
                </div>
                <div class="sticky-note" data-project="project5">
                    <div class="sticky-note-header">Greenovation</div>
                    <div class="sticky-note-image">
                        <img src="images/GG-card.png" alt="Greenovation">
                    </div>
                </div>
                <div class="sticky-note" data-project="project6">
                    <div class="sticky-note-header">Faith or Death</div>
                    <div class="sticky-note-image">
                        <img src="images/project6.jpg" alt="Faith or Death">
                    </div>
                </div>
            </div>
        </div>

        <!-- 背景装饰元素 -->
        <div class="background-decorations" id="bgDecorations">
            <!-- 装饰元素将通过JS动态生成 -->
        </div>
        
        <!-- 电脑显示部分 -->
        <div class="computer-display">
            <!-- 电脑装饰元素 - 顶部 -->
            <div class="computer-decorations top">
                <div class="webcam-dot"></div>
                <div class="status-light"></div>
            </div>
            
            <!-- 电脑屏幕 -->
            <div class="computer-screen">
                <!-- 屏幕角落装饰 -->
                <div class="screen-corner-decoration top-left"></div>
                <div class="screen-corner-decoration top-right"></div>
                
                <!-- 项目标题区域 -->
                <div class="project-header">
                    <div class="project-title-container">
                        <h2 class="project-title">项目名称</h2>
                        <img src="images/decorations/game.svg" alt="">
                    </div>
                    <!-- 标签区域 -->
                    <div class="project-tags">
                        <span class="project-tag">标签1</span>
                        <span class="project-tag">标签2</span>
                        <span class="project-tag">标签3</span>
                    </div>
                </div>
                
                <!-- 项目内容区域 -->
                <div class="project-content">
                    <!-- 屏幕背景装饰元素 -->
                    <div class="screen-decoration-bubble"></div>
                    
                    <div class="row">
                        <!-- 左侧视频/图片区域 -->
                        <div class="col-md-7">
                            <div class="project-media">
                                <div id="projectMedia">
                                    <!-- 视频或图片将在这里动态加载 -->
                                    <div class="placeholder-media">选择一个便利贴来查看项目详情</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 右侧项目介绍 -->
                        <div class="col-md-5">
                            <div class="project-description">
                                <p id="projectDesc">请从上方选择一个便利贴来查看详细信息。</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 屏幕角落装饰 -->
                <div class="screen-corner-decoration bottom-left"></div>
                <div class="screen-corner-decoration bottom-right"></div>
            </div>
            
            <!-- 电脑底座 -->
            <div class="computer-base">
                <!-- 电脑底座装饰 -->
                <div class="computer-base-front"></div>
                
                <!-- 便利贴贴在底座区域 -->
                <div class="note-display-area">
                    <div class="active-note">
                        <!-- 当前选中的便利贴会显示在这里 -->
                        <div class="note-content">选择项目</div>
                    </div>
                </div>
            
            </div>
            
            <!-- 电脑装饰元素 - 底部 -->
            <div class="computer-decorations bottom">
                <div class="port"></div>
                <div class="port"></div>
                <div class="power-button"></div>
            </div>
        </div>
    </div>
    
    <!-- 项目数据 -->
    <script>
        const projectData = {
            project1: {
                title: "EchoClass",
                tags: ["AI生成", "教育", "进行中"],
                //media: '<div class="bilibili-video-container" style="border: 2px solid #FF87B1;">视频应该显示在这里<iframe src="https://player.bilibili.com/player.html?bvid=BV184tzzLEja&page=1&high_quality=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div>',
                description: ``,
                contentFile: "projectPages/echoClass.html"
            },
            project2: {
                title: "敦煌之境",
                tags: ["LLM", "交互叙事", "文化遗产"],
                //media: '<img src="images/shushu-card.png" alt="薯薯项目截图" class="img-fluid">',
                //description: ``
                contentFile: "projectPages/dunhuang.html"
            },
            project3: {
                title: "GenRole",
                tags: ["AIGC", "教育", "孤独症"],
                media: '<div class="bilibili-video-container" style="border: 2px solid #FF87B1;">视频应该显示在这里<iframe src="https://player.bilibili.com/player.html?bvid=BV1hC4y1j7uT&page=1&high_quality=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div>',
                description: ``
            },
            project4: {
                title: "CoCapture",
                tags: ["拍照", "机器学习"],
                media: '<div class="pdf-container"><object data="file/Soul.pdf" type="application/pdf" width="100%" height="80%"><p>您的浏览器不支持PDF嵌入，<a href="your-pdf-file.pdf">点击下载PDF</a></p></object></div>',
                description: ``
            },
        };
        
        // 当文档加载完成后执行
        document.addEventListener('DOMContentLoaded', () => {
            const stickyNotes = document.querySelectorAll('.sticky-note');
            const activeNote = document.querySelector('.active-note');
            const projectTitle = document.querySelector('.project-title');
            const projectTags = document.querySelector('.project-tags');
            const projectMedia = document.getElementById('projectMedia');
            const projectDesc = document.getElementById('projectDesc');
            
            // 返回按钮功能
            document.getElementById('backButton').addEventListener('click', function() {
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                    window.location.href = 'index.html';
                }, 150);
            });
            
            stickyNotes.forEach(note => {
                note.addEventListener('click', function() {
                    const projectId = this.getAttribute('data-project');
                    const project = projectData[projectId];
                    
                    // 更新贴在电脑上的便利贴
                    activeNote.querySelector('.note-content').textContent = this.querySelector('.sticky-note-header').textContent;
                    activeNote.classList.add('active');
                    
                    // 设置便利贴颜色
                    const noteBgColor = this.style.getPropertyValue('--note-color');
                    const noteHeaderColor = this.style.getPropertyValue('--note-header');
                    activeNote.style.setProperty('--note-color', noteBgColor);
                    activeNote.style.setProperty('--note-header', noteHeaderColor);
                    
                    // 更新项目信息
                    projectTitle.textContent = project.title;
                    
                    // 更新标签
                    projectTags.innerHTML = '';
                    project.tags.forEach(tag => {
                        const tagElement = document.createElement('span');
                        tagElement.className = 'project-tag';
                        tagElement.textContent = tag;
                        projectTags.appendChild(tagElement);
                    });
                    
                    // 加载项目内容HTML
                    fetch(project.contentFile)
                        .then(response => response.text())
                        .then(html => {
                            // 将整个项目内容区域替换为加载的HTML
                            document.querySelector('.project-content').innerHTML = html;
                        })
                        .catch(error => {
                            console.error('加载项目内容失败:', error);
                            document.querySelector('.project-content').innerHTML = 
                                '<div class="error-message">加载项目内容失败</div>';
                        });
                    
                    // 添加动画效果
                    document.querySelector('.computer-screen').classList.add('loading');
                    setTimeout(() => {
                        document.querySelector('.computer-screen').classList.remove('loading');
                    }, 800);
                });
            });
                    
            // 为便利贴添加随机效果
            const notes = document.querySelectorAll('.sticky-note');
            const colors = [
                {bg: '#FFEB3B', header: '#FFC107'}, // 黄色
                {bg: '#90CAF9', header: '#64B5F6'}, // 蓝色
                {bg: '#A5D6A7', header: '#81C784'}, // 绿色
                {bg: '#F8BBD0', header: '#F48FB1'}, // 粉色
                {bg: '#FFCC80', header: '#FFB74D'}  // 橙色
            ];
            
            notes.forEach(note => {
                // 随机旋转角度，范围-5°到5°
                const rotation = Math.random() * 10 - 5;
                note.style.setProperty('--note-rotation', `${rotation}deg`);
                
                // 随机颜色
                const colorIndex = Math.floor(Math.random() * colors.length);
                const color = colors[colorIndex];
                note.style.setProperty('--note-color', color.bg);
                note.style.setProperty('--note-header', color.header);
            });

            // 装饰元素的SVG文件列表
            const decorationImages = [
                'images/decorations/black-star.svg',
                'images/decorations/blue-dog.svg',
                'images/decorations/gray-cat.svg',
                'images/decorations/gray-dog.svg',
                'images/decorations/gray-star.svg',
                'images/decorations/pink-dog.svg',
                'images/decorations/pink-star.svg',
                'images/decorations/qiqiu.svg'
            ];
            
            // 动画类型列表
            const animationTypes = [
                'float',
                'twinkle',
                'sway',
                'bounce'
            ];
            
            // 动画持续时间范围（秒）
            const minDuration = 5;
            const maxDuration = 12;
            
            // 元素大小范围（像素）
            const minSize = 20;
            const maxSize = 40;
            
            // 透明度范围
            const minOpacity = 0.3;
            const maxOpacity = 0.7;
            
            // 获取背景装饰容器
            const container = document.getElementById('bgDecorations');
            
            // 计算需要多少个装饰元素来填满背景（根据屏幕大小和期望的密度）
            const screenWidth = window.innerWidth;
            const screenHeight = window.innerHeight;
            
            // 平均每个装饰元素占据的空间（像素）
            const spacingX = 150; // 水平间距
            const spacingY = 150; // 垂直间距
            
            // 计算行数和列数
            const columns = Math.ceil(screenWidth / spacingX);
            const rows = Math.ceil(screenHeight / spacingY);
            
            // 为背景创建装饰元素网格
            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < columns; col++) {
                // 随机选择一个装饰元素图片
                const randomImageIndex = Math.floor(Math.random() * decorationImages.length);
                const imageSrc = decorationImages[randomImageIndex];
                
                // 创建图片元素
                const decoration = document.createElement('img');
                decoration.src = imageSrc;
                decoration.className = 'bg-decoration';
                
                // 计算位置（添加一些随机性以避免完全规则的网格）
                const randomOffsetX = Math.random() * (spacingX * 0.6) - (spacingX * 0.3);
                const randomOffsetY = Math.random() * (spacingY * 0.6) - (spacingY * 0.3);
                
                const posX = (col * spacingX) + randomOffsetX;
                const posY = (row * spacingY) + randomOffsetY;
                
                // 随机大小
                const size = Math.floor(Math.random() * (maxSize - minSize)) + minSize;
                
                // 随机透明度
                const opacity = Math.random() * (maxOpacity - minOpacity) + minOpacity;
                
                // 随机动画
                const animationType = animationTypes[Math.floor(Math.random() * animationTypes.length)];
                const animationDuration = Math.random() * (maxDuration - minDuration) + minDuration;
                const animationDelay = Math.random() * 5; // 0-5秒的随机延迟
                
                // 应用样式
                decoration.style.left = `${posX}px`;
                decoration.style.top = `${posY}px`;
                decoration.style.width = `${size}px`;
                decoration.style.height = `${size}px`;
                decoration.style.opacity = opacity;
                decoration.style.animation = `${animationType} ${animationDuration}s ease-in-out infinite ${animationDelay}s`;
                
                // 添加到容器
                container.appendChild(decoration);
                
                // 添加鼠标悬停事件
                decoration.addEventListener('mouseenter', function() {
                    const animations = ['wiggle', 'pulse', 'spin'];
                    const randomAnim = animations[Math.floor(Math.random() * animations.length)];
                    
                    // 添加随机动画类
                    this.classList.add(randomAnim);
                    
                    // 动画结束后移除类
                    setTimeout(() => {
                    this.classList.remove(randomAnim);
                    }, 1000);
                });
                }
            }
            
            // 窗口大小改变时重新布局（可选）
            window.addEventListener('resize', function() {
                // 清空现有元素
                container.innerHTML = '';
                
                location.reload();
            });

            //返回按钮
            const backButton = document.getElementById('backButton');
  
            if (backButton) {
                backButton.addEventListener('click', function() {
                // 添加点击时的缩放动画
                this.style.transform = 'scale(0.95)';
                
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                    
                    // 返回上一页
                    window.history.back();
                    
                    //window.location.href = '上级页面URL';
                }, 150);
                });
            }
        });
    </script>
    
    <!-- Bootstrap 5 JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
